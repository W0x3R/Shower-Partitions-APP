@use 'sass:math';
@use './_media';

@mixin fluid-text($min: 13, $content-width: 1440, $max: 46) {
	$min-rem: math.div($min, 16); // 
	$max-rem: math.div($max, 16); // 
	font-size: clamp(#{$min-rem}rem, math.div($max, $content-width) * 100vw, #{$max-rem}rem);
}

@mixin flexStartStart {
	display: flex;
	justify-content: flex-start;
	align-items: flex-start;
}

@mixin flexCenter {
	display: flex;
	justify-content: center;
	align-items: center;
}

@mixin flexSpaceBetweenCenter {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

@mixin flexSpaceAroundCenter {
	display: flex;
	justify-content: space-around;
	align-items: center;
}

@mixin flexCenterStart {
	display: flex;
	justify-content: center;
	align-items: flex-start;
}

@mixin abs-center {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}

@mixin fixed-center-fullscreen {
	position: fixed;
	inset: 0;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	@include sizes(100%, 100%);
}

@mixin hide {
	opacity: 0;
	pointer-events: none;
}

@mixin show {
	opacity: 1;
	pointer-events: all;
}

@mixin increaseClickableArea {
	content: "";
	position: absolute;
	display: block;
	inset: -5px
}

@mixin sizes($width, $height) {
	width: $width;
	height: $height;
}

@mixin positioningBurgerLines($rotateVal) {
	top: 50%;
	transform: translateY(-50%) rotate(#{$rotateVal}deg);
	transform-origin: center center;
}

@mixin fullscreen-bg {
	position: absolute;
	inset: 0;
	z-index: -1;
	background-image: url('../../../assets/main/main-bg-big.webp');
	background-position: center;
	background-size: cover;

	@include media.mediumMobile {
		background-image: url('../../../assets/main/main-bg-small.webp');
	}
}

%header-texts-fonts {
	font-size: 1em;
	letter-spacing: var(--basic-letter-spacing);
	line-height: 1.4;
	text-align: center;

	@include media.bigMobile {
		font-size: 1.4em
	}

	@include media.mediumMobile {
		font-size: 1.6em;
	}
}

%main-texts-fonts {
	color: var(--black);
	font-size: 1.5em;
	letter-spacing: var(--basic-letter-spacing);
	line-height: 1.4;

	@include media.bigMobile {
		font-size: 1.95em;
		line-height: 1.3;
	}

	@include media.mediumMobile {
		font-size: 2.1em;
	}
}

%main-subtexts-fonts {
	font-size: 1.3em;
	line-height: 1.4em;
	letter-spacing: var(--basic-letter-spacing);

	@include media.bigMobile {
		line-height: 1.3em;
		font-size: 1.65em;
	}

	@include media.mediumMobile {
		font-size: 1.9em;
	}
}

%header-blink-animation {
	content: '';
	position: absolute;
	left: -17px;
	top: 50%;
	transform: translateY(-50%);
	width: 8px;
	height: 8px;
	background-color: var(--main-green);
	border-radius: var(--border-r-circle);
	animation: blink 2.2s infinite;

	@include media.tablet {
		left: -14px;
	}

	@include media.bigMobile {
		left: -15px;
	}

	@include media.mediumMobile {
		left: -13px;
	}
}

%section {
	padding-block: 4em;
	font-size: clamp(11px, 1.6vw, 16px);
	color: var(--text-main-color);

	@include media.bigMobile {
		font-size: clamp(9.5px, 1.5vw, 11px);
	}

	@include media.mediumMobile {
		font-size: clamp(7.5px, 1.85vw, 9.5px);
	}
}

%title-level-two {
	margin-bottom: 0.6em;
	font-size: 2.2em;
	letter-spacing: 0.05em;
	line-height: 1.3;
	text-align: center;

	@include media.bigMobile {
		font-size: 2.7em;
	}

	@include media.mediumMobile {
		font-size: 2.9em;
	}
}

%title-level-three {
	margin-bottom: 1em;
	font-size: 2.1em;
	letter-spacing: 0.05em;
	line-height: 1.3em;
	text-align: center;

	@include media.bigMobile {
		font-size: 2.55em;
		line-height: 1.1em;
	}

	@include media.mediumMobile {
		font-size: 2.75em;
	}
}

%images-cards {
	position: relative;
	flex-wrap: wrap;
	gap: 1.5625em;
	font-size: clamp(11px, 1.4vw, 18px);

	@include media.bigMobile {
		font-size: clamp(10px, 2vw, 15px);
	}

	@include media.mediumMobile {
		font-size: clamp(12px, 3.6vw, 18px);
	}
}

%image-card {
	@include flexCenter;
	flex-direction: column;
	flex: 0 0 calc((100% - 2 * 1.5625em) / 3);
	cursor: pointer;
	text-align: center;

	@include media.bigMobile {
		flex-basis: calc((100% - 1 * 1.5625em) / 2);
	}

	@include media.mediumMobile {
		flex-basis: 100%;
	}
}

%image-card-svg {
	@include abs-center;
	@include sizes(26px, 26px);
	opacity: 0;
	transition: var(--basic-transition);

	@include media.hoverAndActive {
		@include sizes(30px, 30px);
	}
}

%image-card-img {
	@include sizes(19em, 13em);
	border-radius: 10px;
	transition: filter .3s ease;

	@include media.mediumMobile {
		@include sizes(22em, 15em);
	}
}

%showMoreBtn {
	position: relative;
	@include flexCenter;
	column-gap: 7px;
	padding-bottom: 4px;
	font-size: 21px;
	letter-spacing: var(--basic-letter-spacing);
	transition: all 0.45s ease-in-out;
	color: var(--main-green);
	max-width: max-content;
	align-self: center;

	&::after {
		content: "";
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		width: 100%;
		border-bottom: 2px dotted var(--main-green);
		transition: var(--basic-transition);
	}

	& svg {
		transition: var(--basic-transition);
		@include sizes(18px, 18px);
		fill: var(--main-green);
	}

	@include media.bigMobile {
		font-size: 18px;
	}

	@include media.mediumMobile {
		font-size: 17px;
	}

	@include media.smallMobile {
		font-size: 16px;
	}

	@include media.hoverAndActive {
		color: var(--main-green);

		& svg {
			transform: rotate(180deg);
		}

		&::after {
			width: 50%;
		}
	}

	@include media.focusVisible {
		&::after {
			border-bottom: none;
			box-shadow: 0 1px 0 1px var(--red);
		}
	}
}

%footer-title {
	margin-bottom: 0.575em;
	font-size: 1.5em;
	letter-spacing: 0.05em;
	line-height: 1.2em;
	color: var(--white);

	@include media.bigMobile {
		margin-bottom: 0.375em;
		font-size: 2.2em;
		text-align: center;
	}
}

%footer-text {
	display: flex;
	align-items: center;
	column-gap: .75em;
	margin-bottom: 0.7em;
	font-size: 1em;
	letter-spacing: var(--basic-letter-spacing);
	line-height: 1.3em;
	font-style: normal;

	@include media.bigMobile {
		margin-bottom: 0.6em;
		font-size: 1.6em
	}
}

%footer-link {
	display: inline-block;
	font-weight: 600;
	transition: var(--basic-transition);
	cursor: pointer;

	@include media.hoverAndActive {
		color: var(--main-green);
	}

	@include media.focusVisible {
		outline: none;
		box-shadow: var(--focus-shadow);
	}
}
@use 'sass:math';
@use './_media';

@mixin useFlex($justify-content, $align-items ) {
	display: flex;
	justify-content: $justify-content;
	align-items: $align-items;
}

@mixin absCenter {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}

@mixin fixedCenterFullscreen {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	@include sizes(100%, 100%);
}

@mixin setBackgroundImage ($url) {
	background-image: url($url);
	background-position: center;
	background-size: cover;
}

@mixin hide {
	opacity: 0;
	pointer-events: none;
}

@mixin show {
	opacity: 1;
	pointer-events: all;
}

@mixin increaseClickableArea {
	content: "";
	position: absolute;
	display: block;
	inset: -8px
}

@mixin sizes($width, $height) {
	width: $width;
	height: $height;
}

@mixin positioningBurgerLines($rotateVal) {
	top: 50%;
	transform: translateY(-50%) rotate(#{$rotateVal}deg);
	transform-origin: center center;
}

@mixin fullscreenBg {
	position: absolute;
	inset: 0;
	z-index: -1;
	@include sizes(100%, 100%);
	object-fit: cover;
}

%headerTextsFonts {
	font-size: 0.95em;
	letter-spacing: 0;
	line-height: 1.4;
	text-align: center;

	@include media.bigMobile {
		font-size: 1.4em
	}

	@include media.mediumMobile {
		font-size: 1.6em;
	}
}

%contactsTextsFonts {
	display: flex;
	align-items: center;
	column-gap: 0.75em;
	margin-bottom: 0.7em;
	color: var(--white);
	font-size: 1.1em;
	letter-spacing: 0.02em;
	line-height: 1.4;

	@include media.bigMobile {
		font-size: 1.7em;
		line-height: 1.3;
	}

	@include media.mediumMobile {
		font-size: 2em;
	}
}

%mainTextsFonts {
	color: var(--black);
	font-size: 1.4em;
	letter-spacing: var(--basic-letter-spacing);
	line-height: 1.4;

	@include media.bigMobile {
		font-size: 1.95em;
		line-height: 1.3;
	}

	@include media.mediumMobile {
		font-size: 2.1em;
	}
}

%mainSubtextsFonts {
	font-size: 1.2em;
	line-height: 1.4;
	letter-spacing: var(--basic-letter-spacing);

	@include media.bigMobile {
		line-height: 1.3;
		font-size: 1.65em;
	}

	@include media.mediumMobile {
		font-size: 1.9em;
	}
}

%usefulTextFonts {
	font-size: 1.1em;
	line-height: 1.4;
	letter-spacing: var(--basic-letter-spacing);

	&:not(:last-child) {
		margin-bottom: 0.8em;
	}

	@include media.bigMobile {
		font-size: 1.7em;
		line-height: 1.3;
	}

	@include media.mediumMobile {
		font-size: 1.9em;
	}
}

%usefulTextList {
	padding-left: 1.25em;
	margin-bottom: 1.15em;

	@include media.bigMobile {
		margin-bottom: 1.65em;
	}

	@include media.mediumMobile {
		margin-bottom: 1.44em;
	}
}

%usefulTextItem {
	font-size: 1.1em;
	line-height: 1.4;
	letter-spacing: var(--basic-letter-spacing);

	&:not(:last-child) {
		margin-bottom: 0.4em;
	}

	@include media.bigMobile {
		font-size: 1.7em;
		line-height: 1.3;
	}

	@include media.mediumMobile {
		font-size: 1.9em;
	}
}

@mixin usefulTextItemMarker($url) {
	&::before {
		content: url($url);
		display: inline-block;
		@include sizes(12px, 12px);
		margin-right: 10px;

		@include media.bigMobile {
			@include sizes(10px, 10px);
			margin-right: 8px;
		}
	}
}

%headerBlinkAnimation {
	content: '';
	position: absolute;
	left: -17px;
	top: 50%;
	transform: translateY(-50%);
	@include sizes(8px, 8px);
	background-color: var(--main-green);
	border-radius: var(--border-r-circle);
	animation: blink 2.2s infinite;

	@include media.tablet {
		left: -14px;
	}

	@include media.bigMobile {
		left: -15px;
	}

	@include media.mediumMobile {
		left: -13px;
	}
}

%section {
	padding-block: 4em;
	font-size: clamp(13px, 1.6vw, 16px);
	color: var(--text-main-color);

	@include media.bigMobile {
		font-size: clamp(9.5px, 1.5vw, 12px);
	}

	@include media.mediumMobile {
		font-size: clamp(7.5px, 1.85vw, 9.5px);
	}
}

%titleLevelOne {
	margin-bottom: 0.9em;
	font-size: 2.4em;
	letter-spacing: .05em;
	line-height: 1.3;
	font-weight: 300;
	text-align: center;

	& b {
		font-weight: 700;
	}

	@include media.bigMobile {
		margin-bottom: 1em;
		font-size: 2.7em;
		text-align: center;
	}

	@include media.mediumMobile {
		font-size: 3.15em;
	}
}

%titleLevelTwo {
	margin-bottom: 0.6em;
	font-size: 2.1em;
	letter-spacing: 0.05em;
	line-height: 1.3;
	text-align: center;

	@include media.bigMobile {
		font-size: 2.7em;
		line-height: 1.1;
	}

	@include media.mediumMobile {
		font-size: 2.9em;
	}
}

%titleLevelThree {
	margin-bottom: 1em;
	font-size: 1.9em;
	letter-spacing: 0.05em;
	line-height: 1.3;
	text-align: center;

	@include media.bigMobile {
		font-size: 2.55em;
		line-height: 1.1;
	}

	@include media.mediumMobile {
		font-size: 2.75em;
	}
}

%titleLevelFive {
	margin-bottom: 0.5349em;
	font-size: 1.8em;
	letter-spacing: 0.05em;
	line-height: 1.3;

	@include media.bigMobile {
		margin-bottom: 0.75em;
		font-size: 2.2em;
		line-height: 1.1;
	}

	@include media.mediumMobile {
		margin-bottom: 0.626em;
		font-size: 2.3em;
	}
}

%titleLevelSix {
	margin-bottom: 0.575em;
	font-size: 1.7em;
	letter-spacing: 0.05em;
	line-height: 1.3;

	@include media.bigMobile {
		margin-bottom: 0.8049em;
		font-size: 2.05em;
		line-height: 1.1;
	}

	@include media.mediumMobile {
		margin-bottom: 0.6856em;
		font-size: 2.1em;
	}
}

%imagesCardsWrapper {
	position: relative;
	flex-wrap: wrap;
	gap: 1em;
	font-size: clamp(11.5px, 1.4vw, 18px);

	@include media.bigMobile {
		font-size: clamp(10px, 2vw, 15px);
	}

	@include media.mediumMobile {
		font-size: clamp(12px, 3.6vw, 18px);
	}
}

%imageCardBlock {
	@include useFlex(center, center);
	flex-direction: column;
	flex: 0 0 calc((100% - 2 * 1em) / 3);
	cursor: pointer;
	text-align: center;

	@include media.bigMobile {
		flex-basis: calc((100% - 1 * 1.5em) / 2);
	}

	@include media.mediumMobile {
		flex-basis: 100%;
	}
}

%imageCardIcon {
	@include absCenter;
	@include sizes(26px, 26px);
	opacity: 0;
	transition: var(--basic-transition);

	@include media.hoverAndActive {
		@include sizes(30px, 30px);
	}
}

%imageCard {
	@include sizes(19em, 13em);
	border-radius: 10px;
	transition: filter .3s ease;

	@include media.mediumMobile {
		@include sizes(22em, 15em);
	}
}

%widgetBtn {
	position: relative;
	@include useFlex(center, center);
	column-gap: 1.3em;
	padding: 1.2em 2em;
	width: 85%;
	overflow: hidden;
	background-color: var(--dark-green);
	border-radius: 15px;
	transition: var(--basic-transition);
	color: var(--white);

	&:after {
		content: '';
		position: absolute;
		left: 0;
		top: 0;
		background: var(--white);
		@include sizes(10%, 300%);
		transform: rotate(45deg) translateY(-50%);
		animation: glare 3s linear infinite;
		opacity: 0.8;
	}

	@include media.bigMobile {
		padding: 1.9em 1.6em;
	}

	@include media.hoverAndActive {
		background-color: var(--main-green);
	}

	@include media.focusVisible {
		outline: var(--focus-outline);
	}

	& span {
		font-size: 1.2em;
		font-weight: 600;
		letter-spacing: var(--basic-letter-spacing);
		white-space: nowrap;

		@include media.bigMobile {
			font-size: 1.7em;
		}

		@include media.mediumMobile {
			font-size: 2em;
		}
	}

	& img {
		width: 26px;
		animation: scaleAndRotate 2.2s linear infinite;

		@include media.bigMobile {
			width: 22px;
		}
	}
}

%showMoreBtn {
	position: relative;
	@include useFlex(center, center);
	column-gap: 7px;
	padding-bottom: 4px;
	font-size: 20px;
	letter-spacing: var(--basic-letter-spacing);
	transition: all 0.45s ease-in-out;
	color: var(--dark-green);

	&::after {
		content: "";
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		width: 100%;
		border-bottom: 2px dotted var(--dark-green);
		transition: var(--basic-transition);
	}

	& svg {
		transition: var(--basic-transition);
		@include sizes(18px, 18px);
		fill: var(--dark-green);
	}

	@include media.bigMobile {
		font-size: 18px;

		& svg {
			@include sizes(16px, 16px);
		}
	}

	@include media.mediumMobile {
		font-size: 16px;

		& svg {
			@include sizes(14px, 14px);
		}
	}

	@include media.hoverAndActive {
		& svg {
			transform: rotate(180deg);
		}

		&::after {
			width: 50%;
		}
	}

	@include media.focusVisible {
		&::after {
			border-bottom: none;
			box-shadow: 0 1px 0 1px var(--red);
		}
	}
}

%contactsWidgetLink {
	@include useFlex(space-evenly, center);
	flex-basis: 50%;
	min-height: 50px;
	outline: none;

	@include media.mediumMobile {
		min-height: 43px;
	}

	@include media.hoverAndActive {
		& svg {
			animation: scaleAndRotateImg 1s infinite;
		}
	}

	@include media.focusVisible {
		border: 2px solid var(--red);
	}
}

@mixin popup {
	@include fixedCenterFullscreen;
	z-index: 11;
	background: rgba(0, 0, 0, 0.9);
	backdrop-filter: blur(8px);
	cursor: pointer;
	transition: opacity .2s ease-in-out;

	&.hide {
		animation: smoothHide .2s forwards;
	}

	&.visible {
		animation: smoothShow .2s forwards;
	}

	&__content {
		@include useFlex(center, center);
		@include sizes(100%, 100%);
		position: relative;
	}

	&__btn {
		position: absolute;
		top: 1px;
		right: 1px;
		@include sizes(46px, 46px);
		background-color: rgba(24, 24, 27, 0.65);
		transition: var(--basic-transition);
		cursor: pointer;

		& svg {
			transform: var(--f-button-transform);
			@include sizes(17px, 17px);
			fill: #dbdbdb;
			transition: opacity .15s ease;
			filter: drop-shadow(1px 1px 1px rgba(24, 24, 27, 0.15));
			pointer-events: none;
		}

		@include media.hoverAndActive {
			background-color: rgba(70, 70, 73, 0.65);

			& svg {
				fill: var(--white);
			}
		}

		@include media.focusVisible {
			box-shadow: rgb(219, 219, 219) 0px 0px 0px 2px inset;
		}
	}
}

%footerTitle {
	margin-bottom: 0.575em;
	font-size: 1.5em;
	letter-spacing: 0.05em;
	line-height: 1.2;
	color: var(--white);

	@include media.bigMobile {
		margin-bottom: 0.375em;
		font-size: 2.2em;
		text-align: center;
	}
}

%footerText {
	display: flex;
	align-items: center;
	column-gap: .75em;
	margin-bottom: 0.7em;
	font-size: 1em;
	letter-spacing: var(--basic-letter-spacing);
	line-height: 1.3;
	font-style: normal;

	@include media.bigMobile {
		margin-bottom: 0.6em;
		font-size: 1.6em
	}
}

%footerLink {
	display: inline-block;
	font-weight: 600;
	transition: var(--basic-transition);
	cursor: pointer;

	@include media.hoverAndActive {
		color: var(--main-green);
	}

	@include media.focusVisible {
		outline: none;
		box-shadow: var(--focus-shadow);
	}
}